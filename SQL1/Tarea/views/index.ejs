<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>La Gloriosa Premier</title>
  </head>
  <body>
    <h1>Equipos de la premier league</h1>

    <table id="tabla" class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Nombre del Equipo</th>
          <th>Ciudad</th>
          <th>Estadio</th>
          <th>Capacidad del Estadio</th>
          <th>Entrenador</th>
        </tr>
      </thead>
      <tbody>
        <!-- Rows will be dynamically inserted here -->
      </tbody>
    </table>

    <button id="promiseButton">Click me</button>
    <div id="promiseResult"></div>
    <!-- <script src="/app.js"></script> -->
    <script>
      document.getElementById("promiseButton").addEventListener("click", () => {
        var resultado = document.getElementById("promiseResult");
        var tabla = document.getElementById("tabla");
        // resultado.innerHTML = "Loading...";
        // recibir el 'res.send('hola desde el servidor');
        fetch("/generar-reporte")
          .then((response) => response.json())
          .then((data) => {
            data.forEach((fila) => {
              /*
                nombre_equipo
                ciudad 
                estadio 
                capacidad_estadio
                entrenador 
              */
              var nuevaFila = tabla.insertRow(-1);
              var nuevaCelda = nuevaFila.insertCell(-1);
              nuevaCelda.innerHTML = fila.nombre_equipo;
              nuevaCelda = nuevaFila.insertCell(-1);
              nuevaCelda.innerHTML = fila.ciudad;
              nuevaCelda = nuevaFila.insertCell(-1);
              nuevaCelda.innerHTML = fila.estadio;
              nuevaCelda = nuevaFila.insertCell(-1);
              nuevaCelda.innerHTML = fila.capacidad_estadio;
              nuevaCelda = nuevaFila.insertCell(-1);
              nuevaCelda.innerHTML = fila.entrenador;
            });
          });
      });
    </script>
  </body>
</html>
